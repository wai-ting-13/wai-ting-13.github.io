<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>31. Next Permutation - Leetbook</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../category/problems-by-number.html">Problems sorted by number</a></li><li class="chapter-item expanded affix "><li class="part-title">Special Categories</li><li class="chapter-item expanded "><a href="../category/my-picks-sql.html">My Picks - SQL</a></li><li class="chapter-item expanded "><a href="../category/sql-50.html">SQL 50</a></li><li class="chapter-item expanded "><a href="../category/leetcode-75.html">LeetCode 75 (In Progress)</a></li><li class="chapter-item expanded affix "><li class="part-title">Solutions divided by hardness</li><li class="chapter-item expanded "><div>Easy</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../easy-problems/1.html">1. Two Sum</a></li><li class="chapter-item expanded "><a href="../easy-problems/9.html">9. Palindrome Number</a></li><li class="chapter-item expanded "><a href="../easy-problems/13.html">13. Roman to Integer</a></li><li class="chapter-item expanded "><a href="../easy-problems/20.html">20. Valid Parentheses</a></li><li class="chapter-item expanded "><a href="../easy-problems/21.html">21. Merge Two Sorted Lists</a></li><li class="chapter-item expanded "><a href="../easy-problems/26.html">26. Remove Duplicates from Sorted Array</a></li><li class="chapter-item expanded "><a href="../easy-problems/27.html">27. Remove Element</a></li><li class="chapter-item expanded "><a href="../easy-problems/58.html">58. Length of Last Word</a></li><li class="chapter-item expanded "><a href="../easy-problems/66.html">66. Plus One</a></li><li class="chapter-item expanded "><a href="../easy-problems/70.html">70. Climbing Stairs</a></li><li class="chapter-item expanded "><a href="../easy-problems/83.html">83. Remove Duplicates from Sorted List</a></li><li class="chapter-item expanded "><a href="../easy-problems/94.html">94. Binary Tree Inorder Traversal</a></li><li class="chapter-item expanded "><a href="../easy-problems/100.html">100. Same Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/104.html">104. Maximum Depth of Binary Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/111.html">111. Minimum Depth of Binary Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/112.html">112. Path Sum</a></li><li class="chapter-item expanded "><a href="../easy-problems/118.html">118. Pascal's Triangle</a></li><li class="chapter-item expanded "><a href="../easy-problems/119.html">119. Pascal's Triangle II</a></li><li class="chapter-item expanded "><a href="../easy-problems/125.html">125. Valid Palindrome</a></li><li class="chapter-item expanded "><a href="../easy-problems/136.html">136. Single Number</a></li><li class="chapter-item expanded "><a href="../easy-problems/141.html">141. Linked List Cycle</a></li><li class="chapter-item expanded "><a href="../easy-problems/144.html">144. Binary Tree Preorder Traversal</a></li><li class="chapter-item expanded "><a href="../easy-problems/145.html">145. Binary Tree Postorder Traversal</a></li><li class="chapter-item expanded "><a href="../easy-problems/175.html">175. Combine Two Tables</a></li><li class="chapter-item expanded "><a href="../easy-problems/181.html">181. Employees Earning More Than Their Managers</a></li><li class="chapter-item expanded "><a href="../easy-problems/182.html">182. Duplicate Emails</a></li><li class="chapter-item expanded "><a href="../easy-problems/183.html">183. Customers Who Never Order</a></li><li class="chapter-item expanded "><a href="../easy-problems/191.html">191. Number of 1 Bits</a></li><li class="chapter-item expanded "><a href="../easy-problems/193.html">193. Valid Phone Numbers</a></li><li class="chapter-item expanded "><a href="../easy-problems/195.html">195. Tenth Line</a></li><li class="chapter-item expanded "><a href="../easy-problems/196.html">196. Delete Duplicate Emails</a></li><li class="chapter-item expanded "><a href="../easy-problems/197.html">197. Rising Temperature</a></li><li class="chapter-item expanded "><a href="../easy-problems/203.html">203. Remove Linked List Elements</a></li><li class="chapter-item expanded "><a href="../easy-problems/206.html">206. Reverse Linked Lists</a></li><li class="chapter-item expanded "><a href="../easy-problems/217.html">217. Contains Duplicate</a></li><li class="chapter-item expanded "><a href="../easy-problems/226.html">226. Invert Binary Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/231.html">231. Power of Two</a></li><li class="chapter-item expanded "><a href="../easy-problems/234.html">234. Palindrome Linked List</a></li><li class="chapter-item expanded "><a href="../easy-problems/242.html">242. Valid Anagram</a></li><li class="chapter-item expanded "><a href="../easy-problems/283.html">283. Move Zeroes</a></li><li class="chapter-item expanded "><a href="../easy-problems/292.html">292. Nim Game</a></li><li class="chapter-item expanded "><a href="../easy-problems/338.html">338. Counting Bits</a></li><li class="chapter-item expanded "><a href="../easy-problems/344.html">344. Reverse String</a></li><li class="chapter-item expanded "><a href="../easy-problems/345.html">345. Reverse Vowels of a String</a></li><li class="chapter-item expanded "><a href="../easy-problems/374.html">374. Guess Number Higher or Lower</a></li><li class="chapter-item expanded "><a href="../easy-problems/392.html">392. Is Subsequence</a></li><li class="chapter-item expanded "><a href="../easy-problems/511.html">511. Game Play Analysis I</a></li><li class="chapter-item expanded "><a href="../easy-problems/577.html">577. Employee Bonus</a></li><li class="chapter-item expanded "><a href="../easy-problems/584.html">584. Find Customer Referee</a></li><li class="chapter-item expanded "><a href="../easy-problems/586.html">586. Customer Placing the Largest Number of Orders</a></li><li class="chapter-item expanded "><a href="../easy-problems/595.html">595. Big Countries</a></li><li class="chapter-item expanded "><a href="../easy-problems/596.html">596. Classes More Than 5 Students</a></li><li class="chapter-item expanded "><a href="../easy-problems/607.html">607. Sales Person</a></li><li class="chapter-item expanded "><a href="../easy-problems/610.html">610. Triangle Judgement</a></li><li class="chapter-item expanded "><a href="../easy-problems/619.html">619. Biggest Single Number</a></li><li class="chapter-item expanded "><a href="../easy-problems/620.html">620. Not Boring Movies</a></li><li class="chapter-item expanded "><a href="../easy-problems/627.html">627. Swap Salary</a></li><li class="chapter-item expanded "><a href="../easy-problems/643.html">643. Maximum Average Subarray I</a></li><li class="chapter-item expanded "><a href="../easy-problems/700.html">700. Search in a Binary Search Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/709.html">709. To Lower Case</a></li><li class="chapter-item expanded "><a href="../easy-problems/724.html">724. Find Pivot Index</a></li><li class="chapter-item expanded "><a href="../easy-problems/746.html">746. Min Cost Climbing Stairs</a></li><li class="chapter-item expanded "><a href="../easy-problems/872.html">872. Leaf-Similar Trees</a></li><li class="chapter-item expanded "><a href="../easy-problems/876.html">876. Middle of the Linked List</a></li><li class="chapter-item expanded "><a href="../easy-problems/897.html">897. Increasing Order Search Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/933.html">933. Number of Recent Calls</a></li><li class="chapter-item expanded "><a href="../easy-problems/1050.html">1050. Actors and Directors Who Cooperated At Least Three Times</a></li><li class="chapter-item expanded "><a href="../easy-problems/1068.html">1068. Product Sales Analysis I</a></li><li class="chapter-item expanded "><a href="../easy-problems/1071.html">1071. Greatest Common Divisor of Strings</a></li><li class="chapter-item expanded "><a href="../easy-problems/1075.html">1075. Project Employees I</a></li><li class="chapter-item expanded "><a href="../easy-problems/1084.html">1084. Sales Analysis III</a></li><li class="chapter-item expanded "><a href="../easy-problems/1137.html">1137. N-th Tribonacci Number</a></li><li class="chapter-item expanded "><a href="../easy-problems/1141.html">1141. User Activity for the Past 30 Days I</a></li><li class="chapter-item expanded "><a href="../easy-problems/1148.html">1148. Article Views I</a></li><li class="chapter-item expanded "><a href="../easy-problems/1179.html">1179. Reformat Department Table</a></li><li class="chapter-item expanded "><a href="../easy-problems/1207.html">1207. Unique Number of Occurrences</a></li><li class="chapter-item expanded "><a href="../easy-problems/1211.html">1211. Queries Quality and Percentage</a></li><li class="chapter-item expanded "><a href="../easy-problems/1251.html">1251. Average Selling Price</a></li><li class="chapter-item expanded "><a href="../easy-problems/1280.html">1280. Students and Examinations</a></li><li class="chapter-item expanded "><a href="../easy-problems/1290.html">1290. Convert Binary Number in a Linked List to Integer</a></li><li class="chapter-item expanded "><a href="../easy-problems/1327.html">1327. List the Products Ordered in a Period</a></li><li class="chapter-item expanded "><a href="../easy-problems/1378.html">1378. Replace Employee ID With The Unique Identifier</a></li><li class="chapter-item expanded "><a href="../easy-problems/1407.html">1407. Top Travellers</a></li><li class="chapter-item expanded "><a href="../easy-problems/1431.html">1431. Kids With the Greatest Number of Candies</a></li><li class="chapter-item expanded "><a href="../easy-problems/1484.html">1484. Group Sold Products By The Date</a></li><li class="chapter-item expanded "><a href="../easy-problems/1486.html">1486. XOR Operation in an Array</a></li><li class="chapter-item expanded "><a href="../easy-problems/1517.html">1517. Find Users With Valid E-Mails</a></li><li class="chapter-item expanded "><a href="../easy-problems/1527.html">1527. Patients With a Condition</a></li><li class="chapter-item expanded "><a href="../easy-problems/1581.html">1581. Customer Who Visited but Did Not Make Any Transactions</a></li><li class="chapter-item expanded "><a href="../easy-problems/1587.html">1587. Bank Account Summary II</a></li><li class="chapter-item expanded "><a href="../easy-problems/1633.html">1633. Percentage of Users Attended a Contest</a></li><li class="chapter-item expanded "><a href="../easy-problems/1661.html">1661. Average Time of Process per Machine</a></li><li class="chapter-item expanded "><a href="../easy-problems/1667.html">1667. Fix Names in a Table</a></li><li class="chapter-item expanded "><a href="../easy-problems/1683.html">1683. Invalid Tweets</a></li><li class="chapter-item expanded "><a href="../easy-problems/1693.html">1693. Daily Leads and Partners</a></li><li class="chapter-item expanded "><a href="../easy-problems/1704.html">1704. Determine if String Halves Are Alike</a></li><li class="chapter-item expanded "><a href="../easy-problems/1729.html">1729. Find Followers Count</a></li><li class="chapter-item expanded "><a href="../easy-problems/1731.html">1731. The Number of Employees Which Report to Each Employee</a></li><li class="chapter-item expanded "><a href="../easy-problems/1732.html">1732. Find the Highest Altitude</a></li><li class="chapter-item expanded "><a href="../easy-problems/1741.html">1741. Find Total Time Spent by Each Employee</a></li><li class="chapter-item expanded "><a href="../easy-problems/1757.html">1757. Recyclable and Low Fat Products</a></li><li class="chapter-item expanded "><a href="../easy-problems/1768.html">1768. Merge Strings Alternately</a></li><li class="chapter-item expanded "><a href="../easy-problems/1789.html">1789. Primary Department for Each Employee</a></li><li class="chapter-item expanded "><a href="../easy-problems/1795.html">1795. Rearrange Products Table</a></li><li class="chapter-item expanded "><a href="../easy-problems/1822.html">1822. Sign of the Product of an Array</a></li><li class="chapter-item expanded "><a href="../easy-problems/1873.html">1873. Calculate Special Bonus</a></li><li class="chapter-item expanded "><a href="../easy-problems/1890.html">1890. The Latest Login in 2020</a></li><li class="chapter-item expanded "><a href="../easy-problems/1929.html">1929. Concatenation of Array</a></li><li class="chapter-item expanded "><a href="../easy-problems/1965.html">1965. Employees With Missing Information</a></li><li class="chapter-item expanded "><a href="../easy-problems/1967.html">1967. Number of Strings That Appear as Substrings in Word</a></li><li class="chapter-item expanded "><a href="../easy-problems/1978.html">1978. Employees Whose Manager Left the Company</a></li><li class="chapter-item expanded "><a href="../easy-problems/1991.html">1991. Find the Middle Index in Array</a></li><li class="chapter-item expanded "><a href="../easy-problems/2215.html">2215. Find the Difference of Two Arrays</a></li><li class="chapter-item expanded "><a href="../easy-problems/2235.html">2235. Add Two Integers</a></li><li class="chapter-item expanded "><a href="../easy-problems/2331.html">2331. Evaluate Boolean Binary Tree</a></li><li class="chapter-item expanded "><a href="../easy-problems/2356.html">2356. Number of Unique Subjects Taught by Each Teacher</a></li><li class="chapter-item expanded "><a href="../easy-problems/2703.html">2703. Return Length of Arguments Passed</a></li><li class="chapter-item expanded "><a href="../easy-problems/2723.html">2723. Add Two Promises</a></li></ol></li><li class="chapter-item expanded "><div>Medium</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../medium-problems/2.html">2. Add Two Numbers</a></li><li class="chapter-item expanded "><a href="../medium-problems/3.html">3. Longest Substring Without Repeating Characters</a></li><li class="chapter-item expanded "><a href="../medium-problems/6.html">6. Zigzag Conversion</a></li><li class="chapter-item expanded "><a href="../medium-problems/7.html">7. Reverse Integer</a></li><li class="chapter-item expanded "><a href="../medium-problems/11.html">11. Container With Most Water</a></li><li class="chapter-item expanded "><a href="../medium-problems/12.html">12. Integer to Roman</a></li><li class="chapter-item expanded "><a href="../medium-problems/17.html">17. Letter Combination of a Phone Number</a></li><li class="chapter-item expanded "><a href="../medium-problems/19.html">19. Remove Nth Node From End of List</a></li><li class="chapter-item expanded "><a href="../medium-problems/22.html">22. Generate Parentheses</a></li><li class="chapter-item expanded "><a href="../medium-problems/24.html">24. Swap Nodes in Pairs</a></li><li class="chapter-item expanded "><a href="../medium-problems/31.html" class="active">31. Next Permutation</a></li><li class="chapter-item expanded "><a href="../medium-problems/39.html">39. Combination Sum</a></li><li class="chapter-item expanded "><a href="../medium-problems/46.html">46. Permutations</a></li><li class="chapter-item expanded "><a href="../medium-problems/47.html">47. Permutations II</a></li><li class="chapter-item expanded "><a href="../medium-problems/50.html">50. Pow(x, n)</a></li><li class="chapter-item expanded "><a href="../medium-problems/55.html">55. Jump Game</a></li><li class="chapter-item expanded "><a href="../medium-problems/56.html">56. Merge Intervals</a></li><li class="chapter-item expanded "><a href="../medium-problems/57.html">57. Insert Interval</a></li><li class="chapter-item expanded "><a href="../medium-problems/62.html">62. Unique Paths</a></li><li class="chapter-item expanded "><a href="../medium-problems/64.html">64. Minimum Path Sum</a></li><li class="chapter-item expanded "><a href="../medium-problems/78.html">78. Subsets</a></li><li class="chapter-item expanded "><a href="../medium-problems/98.html">98. Validate Binary Search Tree</a></li><li class="chapter-item expanded "><a href="../medium-problems/113.html">113. Path Sum II</a></li><li class="chapter-item expanded "><a href="../medium-problems/143.html">143. Reorder List</a></li><li class="chapter-item expanded "><a href="../medium-problems/146.html">146. LRU Cache</a></li><li class="chapter-item expanded "><a href="../medium-problems/150.html">150. Evaluate Reverse Polish Notation</a></li><li class="chapter-item expanded "><a href="../medium-problems/151.html">151. Reverse Words in a String</a></li><li class="chapter-item expanded "><a href="../medium-problems/155.html">155. Min Stack</a></li><li class="chapter-item expanded "><a href="../medium-problems/167.html">167. Two Sum II - Input Array Is Sorted</a></li><li class="chapter-item expanded "><a href="../medium-problems/176.html">176. Second Highest Salary</a></li><li class="chapter-item expanded "><a href="../medium-problems/178.html">178. Rank Scores</a></li><li class="chapter-item expanded "><a href="../medium-problems/177.html">177. Nth Highest Salary</a></li><li class="chapter-item expanded "><a href="../medium-problems/179.html">179. Largest Number</a></li><li class="chapter-item expanded "><a href="../medium-problems/180.html">180. Consecutive Numbers</a></li><li class="chapter-item expanded "><a href="../medium-problems/184.html">184. Department Highest Salary</a></li><li class="chapter-item expanded "><a href="../medium-problems/198.html">198. House Robber</a></li><li class="chapter-item expanded "><a href="../medium-problems/199.html">199. Binary Tree Right Side View</a></li><li class="chapter-item expanded "><a href="../medium-problems/200.html">200. Number of Islands</a></li><li class="chapter-item expanded "><a href="../medium-problems/207.html">207. Course Schedule</a></li><li class="chapter-item expanded "><a href="../medium-problems/208.html">208. Implement Trie (Prefix Tree)</a></li><li class="chapter-item expanded "><a href="../medium-problems/210.html">210. Course Schedule II</a></li><li class="chapter-item expanded "><a href="../medium-problems/215.html">215. Kth Largest Element in an Array</a></li><li class="chapter-item expanded "><a href="../medium-problems/216.html">216. Combination Sum III</a></li><li class="chapter-item expanded "><a href="../medium-problems/237.html">237. Delete Node in a Linked List</a></li><li class="chapter-item expanded "><a href="../medium-problems/238.html">238. Product of Array Except Self</a></li><li class="chapter-item expanded "><a href="../medium-problems/279.html">279. Perfect Squares</a></li><li class="chapter-item expanded "><a href="../medium-problems/322.html">322. Coin Change</a></li><li class="chapter-item expanded "><a href="../medium-problems/328.html">328. Odd Even Linked List</a></li><li class="chapter-item expanded "><a href="../medium-problems/334.html">334. Increasing Triplet Subsequence</a></li><li class="chapter-item expanded "><a href="../medium-problems/347.html">347. Top K Frequent Elements</a></li><li class="chapter-item expanded "><a href="../medium-problems/371.html">371. Sum of Two Integers</a></li><li class="chapter-item expanded "><a href="../medium-problems/375.html">375. Guess Number Higher or Lower II</a></li><li class="chapter-item expanded "><a href="../medium-problems/435.html">435. Non-overlapping Intervals</a></li><li class="chapter-item expanded "><a href="../medium-problems/443.html">443. String Compression</a></li><li class="chapter-item expanded "><a href="../medium-problems/452.html">452. Minimum Number of Arrows to Burst Balloons</a></li><li class="chapter-item expanded "><a href="../medium-problems/518.html">518. Coin Change II</a></li><li class="chapter-item expanded "><a href="../medium-problems/547.html">547. Number of Provinces</a></li><li class="chapter-item expanded "><a href="../medium-problems/550.html">550. Game Play Analysis IV</a></li><li class="chapter-item expanded "><a href="../medium-problems/570.html">570. Managers with at Least 5 Direct Reports</a></li><li class="chapter-item expanded "><a href="../medium-problems/585.html">585. Investments in 2016</a></li><li class="chapter-item expanded "><a href="../medium-problems/602.html">602. Friend Requests II: Who Has the Most Friends</a></li><li class="chapter-item expanded "><a href="../medium-problems/608.html">608. Tree Node</a></li><li class="chapter-item expanded "><a href="../medium-problems/626.html">626. Exchange Seats</a></li><li class="chapter-item expanded "><a href="../medium-problems/735.html">735. Asteroid Collision</a></li><li class="chapter-item expanded "><a href="../medium-problems/739.html">739. Daily Temperatures</a></li><li class="chapter-item expanded "><a href="../medium-problems/790.html">790. Domino and Tromino Tiling</a></li><li class="chapter-item expanded "><a href="../medium-problems/841.html">841. Keys and Rooms</a></li><li class="chapter-item expanded "><a href="../medium-problems/901.html">901. Online Stock Span</a></li><li class="chapter-item expanded "><a href="../medium-problems/994.html">994. Rotting Oranges</a></li><li class="chapter-item expanded "><a href="../medium-problems/1004.html">1004. Max Consecutive Ones III</a></li><li class="chapter-item expanded "><a href="../medium-problems/1045.html">1045. Customers Who Bought All Products</a></li><li class="chapter-item expanded "><a href="../medium-problems/1070.html">1070. Product Sales Analysis III</a></li><li class="chapter-item expanded "><a href="../medium-problems/1143.html">1143. Longest Common Subsequence</a></li><li class="chapter-item expanded "><a href="../medium-problems/1158.html">1158. Market Analysis I</a></li><li class="chapter-item expanded "><a href="../medium-problems/1161.html">1161. Maximum Level Sum of a Binary Tree</a></li><li class="chapter-item expanded "><a href="../medium-problems/1164.html">1164. Product Price at a Given Date</a></li><li class="chapter-item expanded "><a href="../medium-problems/1174.html">1174. Immediate Food Delivery II</a></li><li class="chapter-item expanded "><a href="../medium-problems/1193.html">1193. Monthly Transactions I</a></li><li class="chapter-item expanded "><a href="../medium-problems/1204.html">1204. Last Person to Fit in the Bus</a></li><li class="chapter-item expanded "><a href="../medium-problems/1268.html">1268. Search Suggestions System</a></li><li class="chapter-item expanded "><a href="../medium-problems/1286.html">1286. Iterator for Combination</a></li><li class="chapter-item expanded "><a href="../medium-problems/1318.html">1318. Minimum Flips to Make a OR b Equal to c</a></li><li class="chapter-item expanded "><a href="../medium-problems/1321.html">1321. Restaurant Growth</a></li><li class="chapter-item expanded "><a href="../medium-problems/1341.html">1341. Movie Rating</a></li><li class="chapter-item expanded "><a href="../medium-problems/1393.html">1393. Capital Gain/Loss</a></li><li class="chapter-item expanded "><a href="../medium-problems/1448.html">1448. Count Good Nodes in Binary Tree</a></li><li class="chapter-item expanded "><a href="../medium-problems/1456.html">1456. Maximum Number of Vowels in a Substring of Given Length</a></li><li class="chapter-item expanded "><a href="../medium-problems/1493.html">1493. Longest Subarray of 1's After Deleting One Element</a></li><li class="chapter-item expanded "><a href="../medium-problems/1657.html">1657. Determine if Two Strings Are Close</a></li><li class="chapter-item expanded "><a href="../medium-problems/1907.html">1907. Count Salary Categories</a></li><li class="chapter-item expanded "><a href="../medium-problems/1926.html">1926. Nearest Exit from Entrance in Maze</a></li><li class="chapter-item expanded "><a href="../medium-problems/1934.html">1934. Confirmation Rate</a></li><li class="chapter-item expanded "><a href="../medium-problems/2095.html">2095. Delete the Middle Node of a Linked List</a></li><li class="chapter-item expanded "><a href="../medium-problems/2130.html">2130. Maximum Twin Sum of a Linked List</a></li><li class="chapter-item expanded "><a href="../medium-problems/2336.html">2336. Smallest Number in Infinite Set</a></li><li class="chapter-item expanded "><a href="../medium-problems/2352.html">2352. Equal Row and Column Pairs</a></li><li class="chapter-item expanded "><a href="../medium-problems/2390.html">2390. Removing Stars From a String</a></li><li class="chapter-item expanded "><a href="../medium-problems/2807.html">2807. Insert Greatest Common Divisors in Linked List</a></li><li class="chapter-item expanded "><a href="../medium-problems/3220.html">3220. Odd and Even Transactions</a></li></ol></li><li class="chapter-item expanded "><div>Hard</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../hard-problems/60.html">60. Permutation Sequence</a></li><li class="chapter-item expanded "><a href="../hard-problems/65.html">65. Valid Number</a></li><li class="chapter-item expanded "><a href="../hard-problems/185.html">185. Department Top Three Salaries</a></li><li class="chapter-item expanded "><a href="../hard-problems/239.html">239. Sliding Window Maximum</a></li><li class="chapter-item expanded "><a href="../hard-problems/262.html">262. Trips and Users</a></li><li class="chapter-item expanded "><a href="../hard-problems/295.html">295. Find Median from Data Stream</a></li><li class="chapter-item expanded "><a href="../hard-problems/601.html">601. Human Traffic of Stadium</a></li><li class="chapter-item expanded "><a href="../hard-problems/1220.html">1220. Count Vowels Permutation</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Leetbook</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="31-next-permutation"><a class="header" href="#31-next-permutation">31. Next Permutation</a></h1>
<h2 id="description-of-problem"><a class="header" href="#description-of-problem">Description of Problem</a></h2>
<p>A <strong>permutation</strong> of an array of integers is an arrangement of its members into a sequence or linear order.</p>
<p>For example, for <code>arr = [1,2,3]</code>, the following are all the permutations of <code>arr</code>: <code>[1,2,3], [1,3,2], [2, 1, 3], [2, 3, 1], [3,1,2], [3,2,1]</code>.</p>
<p>The <strong>next permutation</strong> of an array of integers is the next lexicographically greater permutation of its integer. More formally, if all the permutations of the array are sorted in one container according to their lexicographical order, then the <strong>next permutation</strong> of that array is the permutation that follows it in the sorted container. If such arrangement is not possible, the array must be rearranged as the lowest possible order (i.e., sorted in ascending order).</p>
<ul>
<li>For example, the next permutation of <code>arr = [1,2,3]</code> is <code>[1,3,2]</code>.</li>
<li>Similarly, the next permutation of <code>arr = [2,3,1]</code> is <code>[3,1,2]</code>.</li>
<li>While the next permutation of <code>arr = [3,2,1]</code> is <code>[1,2,3]</code> because <code>[3,2,1]</code> does not have a lexicographical larger rearrangement.</li>
</ul>
<p>Given an array of integers <code>nums</code>, <em>find the next permutation of <code>nums</code></em>.</p>
<p>The replacement must be <strong>in place</strong> and use only constant extra memory.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: nums = [1,2,3]
Output: [1,3,2]
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: nums = [3,2,1]
Output: [1,2,3]
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code>Input: nums = [1,1,5]
Output: [1,5,1]
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 100</code></li>
<li><code>0 &lt;= nums[i] &lt;= 100</code></li>
</ul>
<h2 id="solution"><a class="header" href="#solution">Solution</a></h2>
<p><strong>Tags:</strong> <code>Permutation and Combination</code></p>
<h3 id="explanation"><a class="header" href="#explanation">Explanation</a></h3>
<p>The explanation just follow the <a href="https://leetcode.com/problems/next-permutation/editorial/">offical answer</a> and <a href="https://www.youtube.com/watch?v=quAS1iydq7U">Back To Back SWE's video</a>:</p>
<p>The solution has 3 steps:</p>
<ol>
<li>Find the <strong>pivot</strong> and the <strong>right sublist</strong>.</li>
<li>Swapping <strong>pivot</strong> and the <em>rightmost</em> number from <strong>right sublist</strong> that just greater than pivot.</li>
<li>Reversing the <strong>right sublist</strong>.</li>
</ol>
<br>
<p><strong>Explanation part 0:</strong></p>
<p>To find next permutation, we have to find the next greater number composed by the list of numbers. </p>
<p>Notice that the list of non-ascending numbers does not have <strong>next permutation</strong> since it composes the largest number. For example, <code>[9 7 5 5 2 1]</code> does not have next permutation.</p>
<br>
<p><strong>Explanation part 1:</strong></p>
<p>To generate next permutation, we must first find the <strong>sublist from the right that is in non-ascending order</strong> since it is not possible to re-arrange them to get the greater number.</p>
<p>For instance, in <code>[9 7 1 5 5 2]</code>, it's not possible to get greater permutation by re-arrrangement of <code>[5 5 2]</code>.</p>
<p>We call the left neighbour of the sublist a <strong>pivot</strong>. In the above example, <code>1</code> is the <strong>pivot</strong>. </p>
<br>
<p><strong>Explanation part 2:</strong></p>
<p>The next step is to swap the <strong>pivot</strong> and the rightmost minimum number from the sublist that just greater than the <strong>pivot</strong>.</p>
<p>[1]: Since the sublist will be reversed later. We choose the right most one to make sure the the reversed number is the minimum one.</p>
<br>
<p><strong>Explanation part 3:</strong></p>
<p>After swapping, the sublist still compose the greatest number as swapping does not change the order[2]. Thus, it is not the next greater number. To get the number we must reverse the right sublist.</p>
<p>[2]: <strong>(Optional)</strong> Prove that the swapping does not change the order of the sublist:</p>
<p>Consider the following list which \(a_i\) is the <strong>pivot</strong>, \([a_{i}, ..., a_{n-1} ]\) is the <strong>right sublist</strong> and \(a_j\) is the chosen number to be swapped.
\[ [... a_i \lt a_{i+1} \ge ... \ge a_{j-1} \ge a_{j} \ge a_{j+1} \ge ... \ge a_{n-1}] \]</p>
<p>There are 4 facts have to be reminded:</p>
<ol>
<li>\( a_i \lt a_j \)</li>
<li>\( a_j \le a_{j-1} \)</li>
<li>\( a_{j+1} \le a_{j} \)</li>
<li>\( \forall k \in \lbrace i+1, ..., n-1 \rbrace ( a_i \lt a_k \rightarrow a_j \le a_k  ) \) 
<ul>
<li>since \(a_j\) is the minimum number amongst the numbers that greater than \(a_i\)</li>
</ul>
</li>
</ol>
<p>From <strong>fact (1)</strong> and <strong>fact (2)</strong>, we get \( a_{j-1} \ge a_{i} \).</p>
<p>Assume \( a_{i} \lt a_{j+1} \), we get \( a_{j} \le a_{j+1} \) from <strong>fact (4)</strong> which contradicts the <strong>fact (3)</strong>. Thus, \( a_{i} \ge a_{j+1} \).</p>
<p>We conclude that the swapping does not change the order:</p>
<p>\[ [... a_j \lt a_{i+1} \ge ... \ge a_{j-1} \ge a_{i} \ge a_{j+1} \ge ... \ge a_{n-1}] \]</p>
<div style="text-align: right">Q.E.D.</div>
<h3 id="code-rust"><a class="header" href="#code-rust">Code (Rust)</a></h3>
<pre><code class="language-Rust">impl Solution {
    pub fn next_permutation(nums: &amp;mut Vec&lt;i32&gt;) {
        if let Some(i) = Self::find_pivot(nums) {
            let j = Self::find_target(nums, i);
            nums.swap(i,j);
            &amp;mut nums[i+1..].reverse();
        } else {
            nums.reverse();
        }
    }

    fn find_pivot(nums : &amp;[i32]) -&gt; Option&lt;usize&gt; {
        if nums.len() &lt; 2 {
            return None;
        }

        let (mut i, mut j) = (nums.len() - 2, nums.len() - 1);
        while /*i &gt;= 0  &amp;&amp;*/ j &gt;= 1 {
            if nums[i] &lt; nums[j] {
                return Some(i);
            }
            i = i.checked_sub(1).unwrap_or(0);
            j = j.checked_sub(1).unwrap_or(0);
        }

        return None;
    }

    // find the right most index 
    // such that its elements is the smallest number
    // which greater than the pivot value
    fn find_target(nums : &amp;[i32], pivot : usize) -&gt; usize {
        let pivot_value = nums[pivot];
        let mut target_index = pivot+1;
        let mut target_value = nums[target_index];
        for j in pivot+2..nums.len() {
            let v = nums[j];
            if v &gt; pivot_value &amp;&amp; v &lt;= target_value {
                target_value = v;
                target_index = j;
            }
        }
        return target_index;
    }
}
</code></pre>
<h3 id="complexity"><a class="header" href="#complexity">Complexity</a></h3>
<h4 id="time-complexity"><a class="header" href="#time-complexity">Time Complexity</a></h4>
<ul>
<li>\(T(n) = O(n)\)</li>
</ul>
<h4 id="auxiliary-space"><a class="header" href="#auxiliary-space">Auxiliary Space</a></h4>
<ul>
<li>\(S(n) = O(1)\)</li>
</ul>
<h2 id="appendix-a1---implementation-of-permutation-iterator"><a class="header" href="#appendix-a1---implementation-of-permutation-iterator">Appendix A1 - Implementation of Permutation Iterator</a></h2>
<pre><code class="language-Rust">pub struct PermutationIterator&lt;T : Ord + Clone&gt;(Option&lt;Vec&lt;T&gt;&gt;);

impl&lt;T : Ord + Clone&gt; PermutationIterator&lt;T&gt; {

    pub fn new(mut elements : Vec&lt;T&gt;) -&gt; Self {
        elements.sort();
        PermutationIterator(Some(elements))
    }

    fn next_permutation(&amp;mut self) -&gt; Option&lt;Vec&lt;T&gt;&gt; {
        let res = self.0.clone();

        self.0 = self.0.take().and_then(|mut v|{
            let i = Self::find_pivot(&amp;v)?;
            let j = Self::find_target(&amp;mut v,  i);
            v.swap(i,j);
            let _ = &amp;mut v[i+1..].reverse();
            Some(v)
        });

        return res;
    }

    fn find_pivot(elements : &amp;[T]) -&gt; Option&lt;usize&gt; {
        if elements.len() &lt; 2 {
            return None;
        }

        let (mut i, mut j) = (elements.len() - 2, elements.len() - 1);
        while /* i &gt;= 0  &amp;&amp; */ j &gt;= 1 {
            if elements[i] &lt; elements[j] {
                return Some(i);
            }
            i = i.checked_sub(1).unwrap_or(0);
            j = j.checked_sub(1).unwrap_or(0);

        }

        return None;
    }

    // find the right most index 
    //  such that its elements is the smallest number 
    //  which greater than the pivot value
    fn find_target(elements : &amp;mut [T], pivot : usize) -&gt; usize {
        let pivot_value = &amp;elements[pivot];
        let mut target_index = pivot+1;
        let mut target_value = &amp;elements[target_index];
        for j in pivot+2..elements.len() {
            let v = &amp;elements[j];
            if v &gt; pivot_value &amp;&amp; v &lt;= target_value {
                target_value = v;
                target_index = j;
            }
        }
        return target_index;
    }
}

impl&lt;T : Ord + Clone&gt; Iterator for PermutationIterator&lt;T&gt; {
    type Item = Vec&lt;T&gt;;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt; {
        self.next_permutation()
    }
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../medium-problems/24.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../medium-problems/39.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../medium-problems/24.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../medium-problems/39.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
